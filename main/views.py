from django.shortcuts import render, redirect
from django.http import HttpResponse
from django.http import request
import requests
import fake_useragent
from bs4 import BeautifulSoup as bs
from django.urls import reverse
from django.views.generic.edit import FormView
from django.contrib.auth.forms import UserCreationForm
from django.contrib.auth.forms import AuthenticationForm
from django.contrib.auth import login
from django.http import HttpResponseRedirect
from django.contrib.auth import logout
from django.db import connection
from django.views.generic import View
from django.contrib.auth.models import User


def my_newsagent_page(request):
    cursor = connection.cursor()
    cursor.execute(
        "SELECT sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user"
        " AND sites.id = my_sites.id_site AND auth_user.id =" + str(request.user.id))
    q = [str(row[0]) for row in cursor.fetchall()]
    all_sites = []


    url1 = "https://www.cbsnews.com/"
    all_links_cbs = get_all_links_cbs(get_html(url1))
    all_titles_cbs = get_all_titles_cbs(get_html(url1))
    all_texts_cbs = get_all_texts_cbs(get_html(url1))
    for link in all_links_cbs:
        html = get_html(link)


    if 'CBS News' in q:
        all_sites.append('CBS News')


    url2 = "https://abcnews.go.com/"
    all_links_abs = get_all_links_abs(get_html(url2))
    all_titles_abs = get_all_titles_abs(get_html(url2))
    texts_abs = []
    for link in all_links_abs[:5]:
        html = get_html(link)
        texts_abs.append(get_all_texts_abs(html))


    if 'ABC News' in q:
        all_sites.append('ABC News')



    url3 = "https://www.foxnews.com/"
    all_links_fox = get_all_links_fox(get_html(url3))
    all_titles_fox = get_all_titles_fox(get_html(url3))
    texts_fox = []
    for link in all_links_fox:
        html = get_html(link)
        texts_fox.append(get_all_texts_fox(html).replace("\xa0", " "))


    if 'Fox News' in q:
        all_sites.append('Fox News')


    url4 = "https://www.bbc.com/"
    all_links_bbc = get_all_links_bbc(get_html(url4))
    all_titles_bbc = get_all_titles_bbc(get_html(url4))
    texts_bbc = []
    html = get_html(url4)
    texts_bbc.append(get_all_texts_bbc(html))

    if 'BBC' in q:
        all_sites.append('BBC')


    url5 = "https://www.latimes.com/"
    all_links_lat = get_all_links_lat(get_html(url5))
    all_titles_lat = []
    texts_lat = []
    for link in all_links_lat:
        html = get_html(link)
        all_titles_lat.append(get_all_titles_lat(html))
        texts_lat.append(get_all_texts_lat(html))

    if 'Los Angeles Times' in q:
        all_sites.append('Los Angeles Times')


    url7 = "https://theintercept.com/"
    all_links_tit = get_all_links_tit(get_html(url7))
    all_titles_tit = []
    texts_tit = []
    for link in all_links_tit:
        html = get_html(link)
        all_titles_tit.append(get_all_titles_tit(html))
        texts_tit.append(get_all_texts_tit(html))

    if 'The Intercept' in q:
        all_sites.append('The Intercept')




    return render(request, 'main/my_newsagent_page.html', {'all_sites': all_sites, 'all_links_cbs': all_links_cbs,
                                                           'all_titles_cbs': all_titles_cbs, 'all_texts_cbs': all_texts_cbs,
                                                           'all_links_abs': all_links_abs, 'all_titles_abs': all_titles_abs, 'texts_abs': texts_abs,
                                                           'all_links_fox': all_links_fox, 'all_titles_fox': all_titles_fox, 'texts_fox': texts_fox,
                                                           'all_links_bbc': all_links_bbc, 'all_titles_bbc': all_titles_bbc, 'texts_bbc': texts_bbc,
                                                           'all_links_lat': all_links_lat, 'all_titles_lat': all_titles_lat, 'texts_lat': texts_lat,
                                                           'all_links_tit': all_links_tit, 'all_titles_tit': all_titles_tit, 'texts_tit': texts_tit})

def edit_profile(request):
    cursor = connection.cursor()
    cursor.execute(
        "SELECT first_name FROM auth_user WHERE id = "+str(request.user.id))

    first_name = [str(row[0]) for row in cursor.fetchall()]

    cursor1 = connection.cursor()
    cursor1.execute(
        "SELECT last_name FROM auth_user WHERE id = "+str(request.user.id))

    last_name = [str(row[0]) for row in cursor1.fetchall()]


    cursor2 = connection.cursor()
    cursor2.execute(
        "SELECT username FROM auth_user WHERE id = "+str(request.user.id))

    username = [str(row[0]) for row in cursor2.fetchall()]


    cursor3 = connection.cursor()
    cursor3.execute(
        "SELECT email FROM auth_user WHERE id = "+str(request.user.id))

    email = [str(row[0]) for row in cursor3.fetchall()]

    cursor4 = connection.cursor()
    cursor4.execute(
        "SELECT password FROM auth_user WHERE id = "+str(request.user.id))

    password = [str(row[0]) for row in cursor4.fetchall()]

    first_name = str(first_name).replace("['", "")
    first_name = str(first_name).replace("']", "")

    last_name = str(last_name).replace("['", "")
    last_name = str(last_name).replace("']", "")

    username = str(username).replace("['", "")
    username = str(username).replace("']", "")

    email = str(email).replace("['", "")
    email = str(email).replace("']", "")

    password = str(password).replace("['", "")
    password = str(password).replace("']", "")


    info = [
        first_name,
        last_name,
        username,
        email,
        password
    ]


    if request.POST:
        edit_first_name = request.POST["first_name"]
        edit_last_name = request.POST["last_name"]
        edit_email = request.POST["email"]
        edit_password = request.POST["password"]

        u = User.objects.get(id=request.user.id)
        u.set_password(edit_password)
        u.save()

        cursorUP = connection.cursor()
        cursorUP.execute(
        "UPDATE auth_user SET first_name = ""'"+edit_first_name+"'"", last_name=""'"+edit_last_name+"'"", email=""'"+edit_email+"'"" WHERE id = "+str(request.user.id))


        cursor = connection.cursor()
        cursor.execute(
            "SELECT first_name FROM auth_user WHERE id = "+str(request.user.id))

        first_name = [str(row[0]) for row in cursor.fetchall()]

        cursor1 = connection.cursor()
        cursor1.execute(
            "SELECT last_name FROM auth_user WHERE id = "+str(request.user.id))

        last_name = [str(row[0]) for row in cursor1.fetchall()]


        cursor2 = connection.cursor()
        cursor2.execute(
            "SELECT username FROM auth_user WHERE id = "+str(request.user.id))

        username = [str(row[0]) for row in cursor2.fetchall()]


        cursor3 = connection.cursor()
        cursor3.execute(
            "SELECT email FROM auth_user WHERE id = "+str(request.user.id))

        email = [str(row[0]) for row in cursor3.fetchall()]

        cursor4 = connection.cursor()
        cursor4.execute(
            "SELECT password FROM auth_user WHERE id = "+str(request.user.id))

        password = [str(row[0]) for row in cursor4.fetchall()]

        first_name = str(first_name).replace("['", "")
        first_name = str(first_name).replace("']", "")

        last_name = str(last_name).replace("['", "")
        last_name = str(last_name).replace("']", "")

        username = str(username).replace("['", "")
        username = str(username).replace("']", "")

        email = str(email).replace("['", "")
        email = str(email).replace("']", "")

        password = str(password).replace("['", "")
        password = str(password).replace("']", "")


        info = [
            first_name,
            last_name,
            username,
            email,
            password
        ]



        return render(request, 'main/edit_profile.html', {'info':info})




    return render(request, 'main/edit_profile.html', {'info':info})


def new_channel(request):

    cursor = connection.cursor()
    cursor.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

    abc = [str(row[0]) for row in cursor.fetchall()]


    cursor1 = connection.cursor()
    cursor1.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

    bbc = [str(row[0]) for row in cursor1.fetchall()]



    cursor2 = connection.cursor()
    cursor2.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

    cbs = [str(row[0]) for row in cursor2.fetchall()]



    cursor3 = connection.cursor()
    cursor3.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

    fox = [str(row[0]) for row in cursor3.fetchall()]


    cursor4 = connection.cursor()
    cursor4.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

    lat = [str(row[0]) for row in cursor4.fetchall()]

    cursor5 = connection.cursor()
    cursor5.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

    tit = [str(row[0]) for row in cursor5.fetchall()]

    cursor6 = connection.cursor()
    cursor6.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

    reu = [str(row[0]) for row in cursor6.fetchall()]

    cursor7 = connection.cursor()
    cursor7.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

    atl = [str(row[0]) for row in cursor7.fetchall()]

    cursor8 = connection.cursor()
    cursor8.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

    pub = [str(row[0]) for row in cursor8.fetchall()]

    cursor9 = connection.cursor()
    cursor9.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

    rev = [str(row[0]) for row in cursor9.fetchall()]


    cursor10 = connection.cursor()
    cursor10.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

    nat = [str(row[0]) for row in cursor10.fetchall()]

    cursor11 = connection.cursor()
    cursor11.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

    fte = [str(row[0]) for row in cursor11.fetchall()]

    cursor12 = connection.cursor()
    cursor12.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

    fch = [str(row[0]) for row in cursor12.fetchall()]

    cursor13 = connection.cursor()
    cursor13.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

    tcr = [str(row[0]) for row in cursor13.fetchall()]

    cursor14 = connection.cursor()
    cursor14.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

    ars = [str(row[0]) for row in cursor14.fetchall()]

    cursor15 = connection.cursor()
    cursor15.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

    reut = [str(row[0]) for row in cursor15.fetchall()]

    cursor16 = connection.cursor()
    cursor16.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

    vox = [str(row[0]) for row in cursor16.fetchall()]

    cursor17 = connection.cursor()
    cursor17.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

    eng = [str(row[0]) for row in cursor17.fetchall()]


    cursor18 = connection.cursor()
    cursor18.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

    tnw = [str(row[0]) for row in cursor18.fetchall()]


    cursor19 = connection.cursor()
    cursor19.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

    espn = [str(row[0]) for row in cursor19.fetchall()]


    cursor20 = connection.cursor()
    cursor20.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

    si = [str(row[0]) for row in cursor20.fetchall()]

    cursor21 = connection.cursor()
    cursor21.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

    ring = [str(row[0]) for row in cursor21.fetchall()]


    cursor22 = connection.cursor()
    cursor22.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

    sbn = [str(row[0]) for row in cursor22.fetchall()]


    cursor23 = connection.cursor()
    cursor23.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

    ftes = [str(row[0]) for row in cursor23.fetchall()]


    cursor24 = connection.cursor()
    cursor24.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

    har = [str(row[0]) for row in cursor24.fetchall()]


    cursor25 = connection.cursor()
    cursor25.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

    web = [str(row[0]) for row in cursor25.fetchall()]


    cursor26 = connection.cursor()
    cursor26.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

    well = [str(row[0]) for row in cursor26.fetchall()]

    cursor27 = connection.cursor()
    cursor27.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

    med = [str(row[0]) for row in cursor27.fetchall()]


    cursor28 = connection.cursor()
    cursor28.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

    jill = [str(row[0]) for row in cursor28.fetchall()]


    cursor29 = connection.cursor()
    cursor29.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

    jf = [str(row[0]) for row in cursor29.fetchall()]


    cursor30 = connection.cursor()
    cursor30.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

    st = [str(row[0]) for row in cursor30.fetchall()]


    cursor31 = connection.cursor()
    cursor31.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

    tnat = [str(row[0]) for row in cursor31.fetchall()]


    cursor32 = connection.cursor()
    cursor32.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

    bm = [str(row[0]) for row in cursor32.fetchall()]


    if request.POST:
        if 'abc' in request.POST:
            cursor = connection.cursor()
            cursor.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))
            abc_get = [str(row[0]) for row in cursor.fetchall()]
            if abc_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'ABC News'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'ABC News'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'bbc' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

            bbc_get = [str(row[0]) for row in cursor1.fetchall()]
            if bbc_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'BBC'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'BBC'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})


        if 'cbs' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

            cbs_get = [str(row[0]) for row in cursor1.fetchall()]
            if cbs_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'CBS News'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]


                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'CBS News'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})


        if 'fox' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

            fox_get = [str(row[0]) for row in cursor1.fetchall()]
            if fox_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Fox News'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Fox News'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]
                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'lat' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

            lat_get = [str(row[0]) for row in cursor1.fetchall()]
            if lat_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Los Angeles Times'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})
            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Los Angeles Times'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'tit' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

            tit_get = [str(row[0]) for row in cursor1.fetchall()]
            if tit_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'The Intercept'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'The Intercept'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'reu' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

            reu_get = [str(row[0]) for row in cursor1.fetchall()]
            if reu_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Reuters'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})
            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Reuters'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'atl' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

            atl_get = [str(row[0]) for row in cursor1.fetchall()]
            if atl_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'The Atlantic'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'The Atlantic'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'pub' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

            pub_get = [str(row[0]) for row in cursor1.fetchall()]
            if pub_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'ProPublica'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'ProPublica'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'rev' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

            rev_get = [str(row[0]) for row in cursor1.fetchall()]
            if rev_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Reveal News'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Reveal News'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'nat' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

            nat_get = [str(row[0]) for row in cursor1.fetchall()]
            if nat_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'The Nation'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'The Nation'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'fte' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

            fte_get = [str(row[0]) for row in cursor1.fetchall()]
            if fte_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'FiveThirtyEight'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'FiveThirtyEight'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'fch' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

            fch_get = [str(row[0]) for row in cursor1.fetchall()]
            if fch_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'FactCheck'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'FactCheck'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'tcr' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

            tcr_get = [str(row[0]) for row in cursor1.fetchall()]
            if tcr_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'TechCrunch'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'TechCrunch'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'ars' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

            ars_get = [str(row[0]) for row in cursor1.fetchall()]
            if ars_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Ars Technica'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Ars Technica'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'reut' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

            reut_get = [str(row[0]) for row in cursor1.fetchall()]
            if reut_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Reuters Technology'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Reuters Technology'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'vox' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

            vox_get = [str(row[0]) for row in cursor1.fetchall()]
            if vox_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Vox Recode'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Vox Recode'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'eng' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

            eng_get = [str(row[0]) for row in cursor1.fetchall()]
            if eng_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Engadget'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Engadget'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'tnw' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

            tnw_get = [str(row[0]) for row in cursor1.fetchall()]
            if tnw_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'The New Web'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'The New Web'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'espn' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

            espn_get = [str(row[0]) for row in cursor1.fetchall()]
            if espn_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'ESPN'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'ESPN'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'si' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

            si_get = [str(row[0]) for row in cursor1.fetchall()]
            if si_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Sports Illustrated'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Sports Illustrated'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'ring' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

            ring_get = [str(row[0]) for row in cursor1.fetchall()]
            if ring_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'The Ringer'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'The Ringer'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'sbn' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

            sbn_get = [str(row[0]) for row in cursor1.fetchall()]
            if sbn_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'SB Nation'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'SB Nation'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'ftes' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

            ftes_get = [str(row[0]) for row in cursor1.fetchall()]
            if ftes_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'FiveThirtyEight Sports'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'FiveThirtyEight Sports'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'har' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

            har_get = [str(row[0]) for row in cursor1.fetchall()]
            if har_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Harvard Health'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Harvard Health'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'web' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

            web_get = [str(row[0]) for row in cursor1.fetchall()]
            if web_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Web MD'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Web MD'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'well' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

            well_get = [str(row[0]) for row in cursor1.fetchall()]
            if well_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Wellness Mama'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Wellness Mama'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'med' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

            med_get = [str(row[0]) for row in cursor1.fetchall()]
            if med_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Medgadget'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Medgadget'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'jill' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

            jill_get = [str(row[0]) for row in cursor1.fetchall()]
            if jill_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'JillFit'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'JillFit'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'jf' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

            jf_get = [str(row[0]) for row in cursor1.fetchall()]
            if jf_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'John Fawkes'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'John Fawkes'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'st' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

            st_get = [str(row[0]) for row in cursor1.fetchall()]
            if st_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Stack'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Stack'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'tnat' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

            tnat_get = [str(row[0]) for row in cursor1.fetchall()]
            if tit_tnat==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'T-Nation'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'T-Nation'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

        if 'bm' in request.POST:
            cursor1 = connection.cursor()
            cursor1.execute(
                "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

            bm_get = [str(row[0]) for row in cursor1.fetchall()]
            if bm_get==[]:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Breaking Muscle'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor1 = connection.cursor()
                cursor1.execute("INSERT INTO my_sites (id_site, id_user)  VALUES ("+str1+", "+str(request.user.id)+")")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]


                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]


                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]


                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]


                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]


                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]


                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))

                bm = [str(row[0]) for row in cursor32.fetchall()]

                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})

            else:
                cursor01 = connection.cursor()
                cursor01.execute("SELECT sites.id FROM sites WHERE sites.site_title = 'Breaking Muscle'")

                abc01 = [str(row[0]) for row in cursor01.fetchall()]
                str1 = ''.join(abc01)

                cursor11 = connection.cursor()
                cursor11.execute("DELETE FROM my_sites WHERE id_site = "+str1+" AND id_user = "+str(request.user.id)+"")


                cursor = connection.cursor()
                cursor.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ABC News' AND auth_user.id = "+str(request.user.id))

                abc = [str(row[0]) for row in cursor.fetchall()]


                cursor1 = connection.cursor()
                cursor1.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'BBC' AND auth_user.id = "+str(request.user.id))

                bbc = [str(row[0]) for row in cursor1.fetchall()]



                cursor2 = connection.cursor()
                cursor2.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'CBS News' AND auth_user.id = "+str(request.user.id))

                cbs = [str(row[0]) for row in cursor2.fetchall()]



                cursor3 = connection.cursor()
                cursor3.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Fox News' AND auth_user.id = "+str(request.user.id))

                fox = [str(row[0]) for row in cursor3.fetchall()]


                cursor4 = connection.cursor()
                cursor4.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Los Angeles Times' AND auth_user.id = "+str(request.user.id))

                lat = [str(row[0]) for row in cursor4.fetchall()]

                cursor5 = connection.cursor()
                cursor5.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Intercept' AND auth_user.id = "+str(request.user.id))

                tit = [str(row[0]) for row in cursor5.fetchall()]

                cursor6 = connection.cursor()
                cursor6.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters' AND auth_user.id = "+str(request.user.id))

                reu = [str(row[0]) for row in cursor6.fetchall()]

                cursor7 = connection.cursor()
                cursor7.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Atlantic' AND auth_user.id = "+str(request.user.id))

                atl = [str(row[0]) for row in cursor7.fetchall()]

                cursor8 = connection.cursor()
                cursor8.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ProPublica' AND auth_user.id = "+str(request.user.id))

                pub = [str(row[0]) for row in cursor8.fetchall()]

                cursor9 = connection.cursor()
                cursor9.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reveal News' AND auth_user.id = "+str(request.user.id))

                rev = [str(row[0]) for row in cursor9.fetchall()]


                cursor10 = connection.cursor()
                cursor10.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Nation' AND auth_user.id = "+str(request.user.id))

                nat = [str(row[0]) for row in cursor10.fetchall()]

                cursor11 = connection.cursor()
                cursor11.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight' AND auth_user.id = "+str(request.user.id))

                fte = [str(row[0]) for row in cursor11.fetchall()]

                cursor12 = connection.cursor()
                cursor12.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FactCheck' AND auth_user.id = "+str(request.user.id))

                fch = [str(row[0]) for row in cursor12.fetchall()]

                cursor13 = connection.cursor()
                cursor13.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'TechCrunch' AND auth_user.id = "+str(request.user.id))

                tcr = [str(row[0]) for row in cursor13.fetchall()]

                cursor14 = connection.cursor()
                cursor14.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Ars Technica' AND auth_user.id = "+str(request.user.id))

                ars = [str(row[0]) for row in cursor14.fetchall()]

                cursor15 = connection.cursor()
                cursor15.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Reuters Technology' AND auth_user.id = "+str(request.user.id))

                reut = [str(row[0]) for row in cursor15.fetchall()]

                cursor16 = connection.cursor()
                cursor16.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Vox Recode' AND auth_user.id = "+str(request.user.id))

                vox = [str(row[0]) for row in cursor16.fetchall()]

                cursor17 = connection.cursor()
                cursor17.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Engadget' AND auth_user.id = "+str(request.user.id))

                eng = [str(row[0]) for row in cursor17.fetchall()]


                cursor18 = connection.cursor()
                cursor18.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The New Web' AND auth_user.id = "+str(request.user.id))

                tnw = [str(row[0]) for row in cursor18.fetchall()]


                cursor19 = connection.cursor()
                cursor19.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'ESPN' AND auth_user.id = "+str(request.user.id))

                espn = [str(row[0]) for row in cursor19.fetchall()]


                cursor20 = connection.cursor()
                cursor20.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Sports Illustrated' AND auth_user.id = "+str(request.user.id))

                si = [str(row[0]) for row in cursor20.fetchall()]

                cursor21 = connection.cursor()
                cursor21.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'The Ringer' AND auth_user.id = "+str(request.user.id))

                ring = [str(row[0]) for row in cursor21.fetchall()]


                cursor22 = connection.cursor()
                cursor22.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'SB Nation' AND auth_user.id = "+str(request.user.id))

                sbn = [str(row[0]) for row in cursor22.fetchall()]


                cursor23 = connection.cursor()
                cursor23.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'FiveThirtyEight Sports' AND auth_user.id = "+str(request.user.id))

                ftes = [str(row[0]) for row in cursor23.fetchall()]


                cursor24 = connection.cursor()
                cursor24.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Harvard Health' AND auth_user.id = "+str(request.user.id))

                har = [str(row[0]) for row in cursor24.fetchall()]


                cursor25 = connection.cursor()
                cursor25.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Web MD' AND auth_user.id = "+str(request.user.id))

                web = [str(row[0]) for row in cursor25.fetchall()]
                cursor26 = connection.cursor()
                cursor26.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Wellness Mama' AND auth_user.id = "+str(request.user.id))

                well = [str(row[0]) for row in cursor26.fetchall()]

                cursor27 = connection.cursor()
                cursor27.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Medgadget' AND auth_user.id = "+str(request.user.id))

                med = [str(row[0]) for row in cursor27.fetchall()]
                cursor28 = connection.cursor()
                cursor28.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'JillFit' AND auth_user.id = "+str(request.user.id))

                jill = [str(row[0]) for row in cursor28.fetchall()]
                cursor29 = connection.cursor()
                cursor29.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'John Fawkes' AND auth_user.id = "+str(request.user.id))

                jf = [str(row[0]) for row in cursor29.fetchall()]
                cursor30 = connection.cursor()
                cursor30.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Stack' AND auth_user.id = "+str(request.user.id))

                st = [str(row[0]) for row in cursor30.fetchall()]
                cursor31 = connection.cursor()
                cursor31.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'T-Nation' AND auth_user.id = "+str(request.user.id))

                tnat = [str(row[0]) for row in cursor31.fetchall()]
                cursor32 = connection.cursor()
                cursor32.execute(
                    "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND sites.site_title = 'Breaking Muscle' AND auth_user.id = "+str(request.user.id))
                bm = [str(row[0]) for row in cursor32.fetchall()]
                return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})



    return render(request, 'main/new_channel.html', {'abc': abc, 'bbc': bbc, 'cbs': cbs, 'fox': fox, 'lat': lat, 'tit': tit, 'reu': reu, 'atl': atl, 'pub': pub, 'rev': rev, 'nat': nat, 'fte': fte, 'fch': fch, 'tcr': tcr, 'ars': ars, 'reut': reut, 'vox': vox, 'eng': eng, 'tnw': tnw, 'espn': espn, 'si': si, 'ring': ring, 'sbn': sbn, 'ftes': ftes, 'har': har, 'web': web, 'well': well, 'med': med, 'jill': jill, 'jf': jf, 'st': st, 'tnat': tnat, 'bm': bm})


def my_newsagent(request):
    cursor = connection.cursor()
    cursor1 = connection.cursor()
    cursor2 = connection.cursor()
    cursor.execute(
        "SELECT sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND auth_user.id =" + str(
            request.user.id))
    cursor1.execute(
        "SELECT sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND auth_user.id =" + str(
            request.user.id))
    cursor2.execute(
        "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND auth_user.id =" + str(
            request.user.id))

    q = [str(row[0]) for row in cursor.fetchall()]

    z = [str(row[1]) for row in cursor1.fetchall()]

    x = [str(row[0]) for row in cursor2.fetchall()]

    qz = [(x[i], q[i], z[i]) for i in range(len(q))]



    if request.method == 'POST':
        td_id_mysite=request.POST["td_id_mysite"]
        cursor_delete = connection.cursor()
        cursor_delete.execute("DELETE FROM my_sites WHERE id_site = "+td_id_mysite+" AND id_user = " + str(request.user.id))
        cursor = connection.cursor()
        cursor1 = connection.cursor()
        cursor2 = connection.cursor()
        cursor.execute(
            "SELECT sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND auth_user.id =" + str(
                request.user.id))
        cursor1.execute(
            "SELECT sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND auth_user.id =" + str(
                request.user.id))
        cursor2.execute(
            "SELECT sites.id, sites.site_title, sites.url FROM sites, my_sites, auth_user WHERE auth_user.id = my_sites.id_user AND sites.id = my_sites.id_site AND auth_user.id =" + str(
                request.user.id))

        q = [str(row[0]) for row in cursor.fetchall()]

        z = [str(row[1]) for row in cursor1.fetchall()]

        x = [str(row[0]) for row in cursor2.fetchall()]

        qz = [(x[i], q[i], z[i]) for i in range(len(q))]
        return render(request, 'main/my_newsagent.html', {'qz': qz})


    return render(request, 'main/my_newsagent.html', {'qz': qz})


class LoginFormView(FormView):
    form_class = AuthenticationForm

    # Аналогично регистрации, только используем шаблон аутентификации.
    template_name = "main/login.html"

    # В случае успеха перенаправим на главную.
    success_url = "/"

    def form_valid(self, form):
        # Получаем объект пользователя на основе введённых в форму данных.
        self.user = form.get_user()

        # Выполняем аутентификацию пользователя.
        login(self.request, self.user)
        return super(LoginFormView, self).form_valid(form)


class RegisterFormView(FormView):
    form_class = UserCreationForm

    # Ссылка, на которую будет перенаправляться пользователь в случае успешной регистрации.
    # В данном случае указана ссылка на страницу входа для зарегистрированных пользователей.
    success_url = "/"

    # Шаблон, который будет использоваться при отображении представления.
    template_name = "main/register.html"

    def form_valid(self, form):
        # Создаём пользователя, если данные в форму были введены корректно.
        form.save()

        return super(RegisterFormView, self).form_valid(form)


class LogoutView(View):
    def get(self, request):
        # Выполняем выход для пользователя, запросившего данное представление.
        logout(request)

        # После чего, перенаправляем пользователя на главную страницу.
        return HttpResponseRedirect("/")


def index(request):
    # CBS
    all_texts_cbs = []
    try:
        url1 = "https://www.cbsnews.com/"
        all_links_cbs = get_all_links_cbs(get_html(url1))
        all_titles_cbs = get_all_titles_cbs(get_html(url1))
        all_texts_cbs = get_all_texts_cbs(get_html(url1))
        for link in all_links_cbs:
            html = get_html(link)
    except Exception:
        pass

    # ABS
    try:
        url2 = "https://abcnews.go.com/"
        all_links_abs = get_all_links_abs(get_html(url2))
        all_titles_abs = get_all_titles_abs(get_html(url2))
        texts_abs = []
        for link in all_links_abs[:5]:
            html = get_html(link)
            texts_abs.append(get_all_texts_abs(html))
    except Exception:
        pass

    # FOX
    try:
        url3 = "https://www.foxnews.com/"
        all_links_fox = get_all_links_fox(get_html(url3))
        all_titles_fox = get_all_titles_fox(get_html(url3))
        texts_fox = []
        for link in all_links_fox:
            html = get_html(link)
            texts_fox.append(get_all_texts_fox(html).replace("\xa0", " "))
    except Exception:
        pass

    # BBC
    url4 = "https://www.bbc.com/"
    all_links_bbc = get_all_links_bbc(get_html(url4))
    all_titles_bbc = get_all_titles_bbc(get_html(url4))
    texts_bbc = []
    html = get_html(url4)
    texts_bbc.append(get_all_texts_bbc(html))

    # LATimes
    url5 = "https://www.latimes.com/"
    all_links_lat = get_all_links_lat(get_html(url5))
    all_titles_lat = []
    texts_lat = []
    for link in all_links_lat:
        html = get_html(link)
        all_titles_lat.append(get_all_titles_lat(html))
        texts_lat.append(get_all_texts_lat(html))

    # TheIntercept
    url7 = "https://theintercept.com/"
    all_links_tit = get_all_links_tit(get_html(url7))
    all_titles_tit = []
    texts_tit = []
    for link in all_links_tit:
        html = get_html(link)
        all_titles_tit.append(get_all_titles_tit(html))
        texts_tit.append(get_all_texts_tit(html))


    return render(request, 'main/index.html',
                  {'all_links_cbs': all_links_cbs, 'all_titles_cbs': all_titles_cbs, 'all_texts_cbs': all_texts_cbs,
                   'all_links_abs': all_links_abs, 'all_titles_abs': all_titles_abs, 'texts_abs': texts_abs,
                   'all_links_fox': all_links_fox, 'all_titles_fox': all_titles_fox, 'texts_fox': texts_fox,
                   'all_links_bbc': all_links_bbc, 'all_titles_bbc': all_titles_bbc, 'texts_bbc': texts_bbc,
                   'all_links_lat': all_links_lat, 'all_titles_lat': all_titles_lat, 'texts_lat': texts_lat,
                   'all_links_tit': all_links_tit, 'all_titles_tit': all_titles_tit, 'texts_tit': texts_tit})



def get_html(url):
    user_agent = fake_useragent.UserAgent()
    user = user_agent.random
    headers = {'User-Agent': str(user)}
    r = requests.get(url, headers=headers)
    return r.text


def get_all_links_cbs(html):
    soup = bs(html, 'lxml')
    link_cbs = soup.find('section', {'id': 'component-latest-news'}).find('div', {
        'class': 'component__item-wrapper'}).find_all('a', {'class': 'item__anchor'}, href=True)
    all_links_cbs = []
    for a in link_cbs:
        all_links_cbs.append(a['href'])
    return all_links_cbs


def get_all_titles_cbs(html):
    soup = bs(html, 'lxml')
    divs_cbs = soup.find('section', {'id': 'component-latest-news'}).find_all('div', {
        'class': 'component__item-wrapper'})  # .find_all('h4', attrs={'itemprop': 'name'})
    titles_cbs = [elem.find_all('h4') for elem in divs_cbs]
    all_titles_cbs = []
    all_titles_cbs.append(titles_cbs[0][0].text)
    all_titles_cbs.append(titles_cbs[0][1].text)
    all_titles_cbs.append(titles_cbs[0][2].text)
    all_titles_cbs.append(titles_cbs[0][3].text)
    all_titles_cbs.append(titles_cbs[0][4].text)
    all_titles_cbs.append(titles_cbs[0][5].text)
    all_titles_cbs.append(titles_cbs[0][6].text)
    all_titles_cbs.append(titles_cbs[0][7].text)
    all_titles_cbs.append(titles_cbs[0][8].text)
    return all_titles_cbs


def get_all_texts_cbs(html):
    soup = bs(html, 'lxml')
    divs_cbs = soup.find('section', {'id': 'component-latest-news'}).find_all('div', {
        'class': 'component__item-wrapper'})  # .find_all('h4', attrs={'itemprop': 'name'})
    texts_cbs = [elem.find_all('p') for elem in divs_cbs]
    all_texts_cbs = []
    try:
        all_texts_cbs.append(texts_cbs[0][0].text)
    except Exception:
        all_texts_cbs.append("")
    try:
        all_texts_cbs.append(texts_cbs[0][1].text)
    except Exception:
        all_texts_cbs.append("")
    try:
        all_texts_cbs.append(texts_cbs[0][2].text)
    except Exception:
        all_texts_cbs.append("")
    try:
        all_texts_cbs.append(texts_cbs[0][3].text)
    except Exception:
        all_texts_cbs.append("")
    try:
        all_texts_cbs.append(texts_cbs[0][4].text)
    except Exception:
        all_texts_cbs.append("")
    try:
        all_texts_cbs.append(texts_cbs[0][5].text)
    except Exception:
        all_texts_cbs.append("")
    try:
        all_texts_cbs.append(texts_cbs[0][6].text)
    except Exception:
        all_texts_cbs.append("")
    try:
        all_texts_cbs.append(texts_cbs[0][7].text)
    except Exception:
        all_texts_cbs.append("")
    try:
        all_texts_cbs.append(texts_cbs[0][8].text)
    except Exception:
        all_texts_cbs.append("")
    return all_texts_cbs


def get_all_links_abs(html):
    soup = bs(html, 'lxml')
    link_abs = soup.find('article', {'class': 'headlines inbox single row-item mobile-show'}).find_all('a', href=True)
    all_links_abs = []
    for a in link_abs:
        all_links_abs.append(a['href'])

    return all_links_abs


def get_all_titles_abs(html):
    soup = bs(html, 'lxml')
    divs_abs = soup.find_all('article', {'class': 'headlines inbox single row-item mobile-show'})
    titles_abs = [elem.find_all('h1') for elem in divs_abs]
    all_titles_abs = []
    all_titles_abs.append(titles_abs[0][0].text)
    all_titles_abs.append(titles_abs[0][1].text)
    all_titles_abs.append(titles_abs[0][2].text)
    all_titles_abs.append(titles_abs[0][3].text)
    all_titles_abs.append(titles_abs[0][4].text)
    return all_titles_abs


def get_all_texts_abs(html):
    soup = bs(html, 'lxml')
    try:
        texts_abs = soup.find('article', {'class': 'Article__Content story'}).find('p').text
    except Exception:
        texts_abs = ""
    return texts_abs


def get_all_links_fox(html):
    soup = bs(html, 'lxml')
    try:
        link_fox1 = soup.find('div', {'class': 'main main-secondary'}).find('div',
                                                                            {'class': 'content article-list'}).find(
            'article', {'class': 'article story-2'}).find('a', href=True).get('href')
    except Exception:
        link_fox1 = ""
    try:
        link_fox2 = soup.find('div', {'class': 'main main-secondary'}).find('div',
                                                                            {'class': 'content article-list'}).find(
            'article', {'class': 'article story-3'}).find('a', href=True).get('href')
    except Exception:
        link_fox2 = ""
    try:
        link_fox3 = soup.find('div', {'class': 'main main-secondary'}).find('div',
                                                                            {'class': 'content article-list'}).find(
            'article', {'class': 'article story-5'}).find('a', href=True).get('href')
    except Exception:
        link_fox3 = ""
    try:
        link_fox4 = soup.find('div', {'class': 'main main-secondary'}).find('div',
                                                                            {'class': 'content article-list'}).find(
            'article', {'class': 'article story-6'}).find('a', href=True).get('href')
    except Exception:
        link_fox4 = ""
    try:
        link_fox5 = soup.find('div', {'class': 'main main-secondary'}).find('div',
                                                                            {'class': 'content article-list'}).find(
            'article', {'class': 'article story-7'}).find('a', href=True).get('href')
    except Exception:
        link_fox5 = ""
    try:
        link_fox6 = soup.find('div', {'class': 'main main-secondary'}).find('div',
                                                                            {'class': 'content article-list'}).find(
            'article', {'class': 'article story-8'}).find('a', href=True).get('href')
    except Exception:
        link_fox6 = ""
    all_links_fox = []
    all_links_fox.append(link_fox1)
    all_links_fox.append(link_fox2)
    all_links_fox.append(link_fox3)
    all_links_fox.append(link_fox4)
    all_links_fox.append(link_fox5)
    all_links_fox.append(link_fox6)
    return all_links_fox


def get_all_titles_fox(html):
    soup = bs(html, 'lxml')
    try:
        title_fox1 = soup.find('div', {'class': 'main main-secondary'}).find('div',
                                                                             {'class': 'content article-list'}).find(
            'article', {'class': 'article story-2'}).find('h2').text
    except Exception:
        title_fox1 = ""
    try:
        title_fox2 = soup.find('div', {'class': 'main main-secondary'}).find('div',
                                                                             {'class': 'content article-list'}).find(
            'article', {'class': 'article story-3'}).find('h2').text
    except Exception:
        title_fox2 = ""
    try:
        title_fox3 = soup.find('div', {'class': 'main main-secondary'}).find('div',
                                                                             {'class': 'content article-list'}).find(
            'article', {'class': 'article story-5'}).find('h2').text
    except Exception:
        title_fox3 = ""
    try:
        title_fox4 = soup.find('div', {'class': 'main main-secondary'}).find('div',
                                                                             {'class': 'content article-list'}).find(
            'article', {'class': 'article story-6'}).find('h2').text
    except Exception:
        title_fox4 = ""
    try:
        title_fox5 = soup.find('div', {'class': 'main main-secondary'}).find('div',
                                                                             {'class': 'content article-list'}).find(
            'article', {'class': 'article story-7'}).find('h2').text
    except Exception:
        title_fox5 = ""
    try:
        title_fox6 = soup.find('div', {'class': 'main main-secondary'}).find('div',
                                                                             {'class': 'content article-list'}).find(
            'article', {'class': 'article story-8'}).find('h2').text
    except Exception:
        title_fox6 = ""

    all_titles_fox = []
    all_titles_fox.append(title_fox1)
    all_titles_fox.append(title_fox2)
    all_titles_fox.append(title_fox3)
    all_titles_fox.append(title_fox4)
    all_titles_fox.append(title_fox5)
    all_titles_fox.append(title_fox6)
    return all_titles_fox


def get_all_texts_fox(html):
    soup = bs(html, 'lxml')
    try:
        texts_fox = soup.find('div', {'class': 'page-content'}).find('div', {
            'class': 'article-content-wrap sticky-columns'}).find('p', {'class': 'speakable'}).text
    except Exception:
        texts_fox = ""
    return texts_fox


def get_all_links_bbc(html):
    soup = bs(html, 'lxml')
    link_bbc1 = soup.find('section', {'class': 'module module--promo'}).find('div', {'class': 'module__content'}).find(
        'ul', {'class': 'media-list'}).find('li', {'class': 'media-list__item media-list__item--1'}).find('a', {
        'class': 'media__link'}, href=True).get('href')
    link_bbc2 = soup.find('section', {'class': 'module module--content-block'}).find('div',
                                                                                     {'class': 'module__content'}).find(
        'ul', {'class': 'media-list media-list--fixed-height'}).find('li', {
        'class': 'media-list__item media-list__item--1'}).find('a', {'class': 'block-link__overlay-link'},
                                                               href=True).get('href')
    link_bbc3 = soup.find('section', {'class': 'module module--content-block'}).find('div',
                                                                                     {'class': 'module__content'}).find(
        'ul', {'class': 'media-list media-list--fixed-height'}).find('li', {
        'class': 'media-list__item media-list__item--2'}).find('a', {'class': 'block-link__overlay-link'},
                                                               href=True).get('href')
    link_bbc4 = soup.find('section', {'class': 'module module--content-block'}).find('div',
                                                                                     {'class': 'module__content'}).find(
        'ul', {'class': 'media-list media-list--fixed-height'}).find('li', {
        'class': 'media-list__item media-list__item--3'}).find('a', {'class': 'block-link__overlay-link'},
                                                               href=True).get('href')
    link_bbc5 = soup.find('section', {
        'class': 'module module--collapse-images module--collapse-images module--highlight module--editors-picks'}).find(
        'div', {'class': 'module__content'}).find('ul', {
        'class': 'media-list media-list--fixed-height layout--featured'}).find('li', {
        'class': 'media-list__item media-list__item--2'}).find('a', {'class': 'block-link__overlay-link'},
                                                               href=True).get('href')

    all_links_bbc = []
    if link_bbc1.startswith("https://www.bbc.com/"):
        all_links_bbc.append(link_bbc1)
    else:
        all_links_bbc.append("https://www.bbc.com/" + link_bbc1)

    if link_bbc2.startswith("https://www.bbc.com/"):
        all_links_bbc.append(link_bbc2)
    else:
        all_links_bbc.append("https://www.bbc.com/" + link_bbc2)

    if link_bbc3.startswith("https://www.bbc.com/"):
        all_links_bbc.append(link_bbc3)
    else:
        all_links_bbc.append("https://www.bbc.com/" + link_bbc3)

    if link_bbc4.startswith("https://www.bbc.com/"):
        all_links_bbc.append(link_bbc4)
    else:
        all_links_bbc.append("https://www.bbc.com/" + link_bbc4)

    if link_bbc5.startswith("https://www.bbc.com/"):
        all_links_bbc.append(link_bbc5)
    else:
        all_links_bbc.append("https://www.bbc.com/" + link_bbc5)

    return all_links_bbc


def get_all_titles_bbc(html):
    soup = bs(html, 'lxml')
    title_bbc1 = soup.find('section', {'class': 'module module--promo'}).find('div', {'class': 'module__content'}).find(
        'ul', {'class': 'media-list'}).find('li', {'class': 'media-list__item media-list__item--1'}).find('a', {
        'class': 'media__link'}).text
    title_bbc2 = soup.find('section', {'class': 'module module--content-block'}).find('div', {
        'class': 'module__content'}).find('ul', {'class': 'media-list media-list--fixed-height'}).find('li', {
        'class': 'media-list__item media-list__item--1'}).find('a', {'class': 'block-link__overlay-link'}).text
    title_bbc3 = soup.find('section', {'class': 'module module--content-block'}).find('div', {
        'class': 'module__content'}).find('ul', {'class': 'media-list media-list--fixed-height'}).find('li', {
        'class': 'media-list__item media-list__item--2'}).find('a', {'class': 'block-link__overlay-link'}).text
    title_bbc4 = soup.find('section', {'class': 'module module--content-block'}).find('div', {
        'class': 'module__content'}).find('ul', {'class': 'media-list media-list--fixed-height'}).find('li', {
        'class': 'media-list__item media-list__item--3'}).find('a', {'class': 'block-link__overlay-link'}).text
    title_bbc5 = soup.find('section', {
        'class': 'module module--collapse-images module--collapse-images module--highlight module--editors-picks'}).find(
        'div', {'class': 'module__content'}).find('ul', {
        'class': 'media-list media-list--fixed-height layout--featured'}).find('li', {
        'class': 'media-list__item media-list__item--2'}).find('a', {'class': 'block-link__overlay-link'}).text

    all_titles_bbc = []
    all_titles_bbc.append(title_bbc1.replace("â", ""))
    all_titles_bbc.append(title_bbc2.replace("â", ""))
    all_titles_bbc.append(title_bbc3.replace("â", ""))
    all_titles_bbc.append(title_bbc4.replace("â", ""))
    all_titles_bbc.append(title_bbc5.replace("â", ""))

    return all_titles_bbc


def get_all_texts_bbc(html):
    soup = bs(html, 'lxml')
    try:
        text_bbc1 = soup.find('section', {'class': 'module module--promo'}).find('div', {'class': 'module__content'}).find('ul', {'class': 'media-list'}).find('li', {'class': 'media-list__item media-list__item--1'}).find('p').text
    except Exception:
        text_bbc1 = ""
    try:
        text_bbc2 = soup.find('section', {'class': 'module module--content-block'}).find('div', {'class': 'module__content'}).find('ul', {'class': 'media-list media-list--fixed-height'}).find('li', {'class': 'media-list__item media-list__item--1'}).find('p').text
    except Exception:
        text_bbc2 = ""
    try:
        text_bbc3 = soup.find('section', {'class': 'module module--content-block'}).find('div', {'class': 'module__content'}).find('ul', {'class': 'media-list media-list--fixed-height'}).find('li', {'class': 'media-list__item media-list__item--2'}).find('p').text
    except Exception:
        text_bbc3 = ""
    try:
        text_bbc4 = soup.find('section', {'class': 'module module--content-block'}).find('div', {'class': 'module__content'}).find('ul', {'class': 'media-list media-list--fixed-height'}).find('li', {'class': 'media-list__item media-list__item--3'}).find('p').text
    except Exception:
        text_bbc4 = ""
    try:
        text_bbc5 = soup.find('section', {'class': 'module module--collapse-images module--collapse-images module--highlight module--editors-picks'}).find('div', {'class': 'module__content'}).find('ul', {'class': 'media-list media-list--fixed-height layout--featured'}).find('li', {'class': 'media-list__item media-list__item--2'}).find('p').text
    except Exception:
        text_bbc5 = ""


    texts_bbc = []
    try:
        texts_bbc.append(text_bbc1.replace("â\x80\x99", "'"))
    except Exception:
        texts_bbc.append("")
    try:
        texts_bbc.append(text_bbc2.replace("â\x80\x99", "'"))
    except Exception:
        texts_bbc.append("")
    try:
        texts_bbc.append(text_bbc3.replace("â\x80\x99", "'"))
    except Exception:
        texts_bbc.append("")
    try:
        texts_bbc.append(text_bbc4.replace("â\x80\x99", "'"))
    except Exception:
        texts_bbc.append("")
    try:
        texts_bbc.append(text_bbc5.replace("â\x80\x99", "'"))
    except Exception:
        texts_bbc.append("")

    return texts_bbc



def get_all_links_lat(html):
    soup = bs(html, 'lxml')
    link_lat1 = soup.find('div', {'class': 'Page-ad-margins'}).find('div',
                                                                    {'class': 'PromoSuperLeadLarge-wrapper'}).find_all(
        'a', href=True)
    link_lat2 = soup.find('div', {'class': 'Page-ad-margins'}).find('div', {'class': 'ListW'}).find_all('a', href=True)

    all_links_lat1 = []
    all_links_lat2 = []
    for a in link_lat1:
        all_links_lat1.append(a['href'])

    for a in link_lat2:
        all_links_lat2.append(a['href'])

    all_links_lat = []
    try:
        all_links_lat.append(all_links_lat1[1])
    except Exception:
        pass

    try:
        all_links_lat.append(all_links_lat2[2])
    except Exception:
        pass
    try:
        all_links_lat.append(all_links_lat2[5])
    except Exception:
        pass
    try:
        all_links_lat.append(all_links_lat2[6])
    except Exception:
        pass
    try:
        all_links_lat.append(all_links_lat2[8])
    except Exception:
        pass
    try:
        all_links_lat.append(all_links_lat2[13])
    except Exception:
        pass

    return all_links_lat


def get_all_titles_lat(html):
    soup = bs(html, 'lxml')
    try:
        titles_lat = soup.find('div', {'class': 'Page-ad-margins'}).find('h1', {'class': 'ArticlePage-headline'}).text
    except Exception:
        titles_lat = ""

    return titles_lat


def get_all_texts_lat(html):
    soup = bs(html, 'lxml')
    try:
        texts_lat = soup.find('div', {'class': 'Page-ad-margins'}).find('div',
                                                                        {'class': 'ArticlePage-articleContainer'}).find(
            'p').text
    except Exception:
        texts_lat = ""

    return texts_lat


def get_all_links_tit(html):
    soup = bs(html, 'lxml')
    link_tit = soup.find('div', {'class': 'Homepage-HomepageTopStoriesModule-lists'}).find_all('a', href=True)

    all_links_tit = []
    for a in link_tit:
        all_links_tit.append(a['href'])

    return all_links_tit


def get_all_titles_tit(html):
    soup = bs(html, 'lxml')
    try:
        titles_tit = soup.find('div', {'class': 'Post-title-block'}).find('h1', {'class': 'Post-title'}).text
    except Exception:
        titles_tit = ""

    return titles_tit


def get_all_texts_tit(html):
    soup = bs(html, 'lxml')
    try:
        texts_tit = soup.find('div', {'class': 'PostContent'}).find('p').text
    except Exception:
        texts_tit = ""

    return texts_tit


def news_news(request):
    # Reuters
    url8 = "https://www.reuters.com/"
    all_links_reu = get_all_links_reu(get_html(url8))
    all_titles_reu = []
    texts_reu = []
    for link in all_links_reu:
        html = get_html(link)
        all_titles_reu.append(get_all_titles_reu(html))
        texts_reu.append(get_all_texts_reu(html))


    # The Atlantic
    url9 = "https://www.theatlantic.com/world/"
    all_links_atl = get_all_links_atl(get_html(url9))
    all_titles_atl = get_all_titles_atl(get_html(url9))
    texts_atl = get_all_texts_atl(get_html(url9))
    for link in all_links_atl:
        html = get_html(link)


    # Propublica
    url10 = "https://www.propublica.org/"
    all_links_pub = get_all_links_pub(get_html(url10))
    all_titles_pub = []
    texts_pub = []
    for link in all_links_pub:
        html = get_html(link)
        all_titles_pub.append(get_all_titles_pub(html))
        texts_pub.append(get_all_texts_pub(html))

    # BBC
    url4 = "https://www.bbc.com/"
    all_links_bbc = get_all_links_bbc(get_html(url4))
    all_titles_bbc = get_all_titles_bbc(get_html(url4))
    texts_bbc = []
    html = get_html(url4)
    texts_bbc.append(get_all_texts_bbc(html))

    # LATimes
    url5 = "https://www.latimes.com/"
    all_links_lat = get_all_links_lat(get_html(url5))
    all_titles_lat = []
    texts_lat = []
    for link in all_links_lat:
        html = get_html(link)
        all_titles_lat.append(get_all_titles_lat(html))
        texts_lat.append(get_all_texts_lat(html))

    # Reveal News
    url11 = "https://www.revealnews.org/"
    all_links_rev = get_all_links_rev(get_html(url11))
    all_titles_rev = []
    texts_rev = []
    for link in all_links_rev:
        html = get_html(link)
        all_titles_rev.append(get_all_titles_rev(html))
        texts_rev.append(get_all_texts_rev(html))



    return render(request, 'main/news_news.html', {'all_links_reu': all_links_reu, 'all_titles_reu': all_titles_reu, 'all_texts_reu': texts_reu,
                                                   'all_links_atl': all_links_atl, 'all_titles_atl': all_titles_atl, 'all_texts_atl': texts_atl,
                                                   'all_links_pub': all_links_pub, 'all_titles_pub': all_titles_pub, 'all_texts_pub': texts_pub,
                                                   'all_links_bbc': all_links_bbc, 'all_titles_bbc': all_titles_bbc, 'all_texts_bbc': texts_bbc,
                                                   'all_links_lat': all_links_lat, 'all_titles_lat': all_titles_lat, 'all_texts_lat': texts_lat,
                                                   'all_links_rev': all_links_rev, 'all_titles_rev': all_titles_rev, 'all_texts_rev': texts_rev})


def get_all_links_reu(html):
    soup = bs(html, 'lxml')
    link_reu = soup.find('section', {'id': 'hp-top-news-low'}).find_all('a', href=True)

    all_links_reu1 = []
    for a in link_reu:
        all_links_reu1.append("https://www.reuters.com/" + a['href'])

    all_links_reu = []
    all_links_reu.append(all_links_reu1[0])
    all_links_reu.append(all_links_reu1[2])
    all_links_reu.append(all_links_reu1[4])
    all_links_reu.append(all_links_reu1[6])
    all_links_reu.append(all_links_reu1[8])
    all_links_reu.append(all_links_reu1[10])
    return all_links_reu


def get_all_titles_reu(html):
    soup = bs(html, 'lxml')
    try:
        titles_reu = soup.find('h1', {'class': 'ArticleHeader_headline'}).text
    except Exception:
        titles_reu = ""
    return titles_reu


def get_all_texts_reu(html):
    soup = bs(html, 'lxml')
    try:
        texts_reu = soup.find('div', {'class': 'StandardArticleBody_body'}).find('p').text
    except Exception:
        texts_reu = ""
    return texts_reu


def get_all_links_atl(html):
    soup = bs(html, 'lxml')
    link_atl = soup.find('section', {'class': 'l-hp-top'}).find_all('a', href=True)

    all_links_atl1 = []
    for a in link_atl:
        all_links_atl1.append(a['href'])

    all_links_atl = []
    all_links_atl.append(all_links_atl1[0])
    all_links_atl.append(all_links_atl1[3])
    all_links_atl.append(all_links_atl1[7])
    all_links_atl.append(all_links_atl1[10])
    all_links_atl.append(all_links_atl1[16])
    all_links_atl.append(all_links_atl1[19])
    return all_links_atl


def get_all_titles_atl(html):
    soup = bs(html, 'lxml')

    try:
        titles_atl1 = soup.find('div', {'class': 'c-cover-story__content'}).find('h1', {'class': 'o-hed c-cover-story__hed'}).text
    except Exception:
        titles_atl1 = ""
    try:
        titles_atl2 = soup.find('article', {'id': 'hp-topstack-0'}).find('h2', {'class': 'o-hed c-story-strip__hed'}).text
    except Exception:
        titles_atl2 = ""
    try:
        titles_atl3 = soup.find('article', {'id': 'hp-topstack-1'}).find('h2', {'class': 'o-hed c-story-strip__hed'}).text
    except Exception:
        titles_atl3 = ""
    try:
        titles_atl4 = soup.find('article', {'id': 'hp-topstack-2'}).find('h2', {'class': 'o-hed c-story-strip__hed'}).text
    except Exception:
        titles_atl4 = ""
    try:
        titles_atl5 = soup.find('article', {'id': 'hp-offlede-0'}).find('h2', {'class': 'o-hed c-offlede__hed'}).text
    except Exception:
        titles_atl5 = ""
    try:
        titles_atl6 = soup.find('article', {'id': 'hp-offlede-1'}).find('h2', {'class': 'o-hed c-offlede__hed'}).text
    except Exception:
        titles_atl6 = ""


    titles_atl = []
    titles_atl.append(titles_atl1)
    titles_atl.append(titles_atl2)
    titles_atl.append(titles_atl3)
    titles_atl.append(titles_atl4)
    titles_atl.append(titles_atl5)
    titles_atl.append(titles_atl6)
    return titles_atl


def get_all_texts_atl(html):
    soup = bs(html, 'lxml')
    try:
        texts_atl1 = soup.find('div', {'class': 'c-cover-story__content'}).find('p', {'class': 'o-dek c-cover-story__dek'}).text
    except Exception:
        texts_atl1 = ""
    try:
        texts_atl2 = soup.find('article', {'id': 'hp-topstack-0'}).find('h2', {'class': 'o-hed c-story-strip__hed'}).text
    except Exception:
        texts_atl2 = ""
    try:
        texts_atl3 = soup.find('article', {'id': 'hp-topstack-1'}).find('h2', {'class': 'o-hed c-story-strip__hed'}).text
    except Exception:
        texts_atl3 = ""
    try:
        texts_atl4 = soup.find('article', {'id': 'hp-topstack-2'}).find('h2', {'class': 'o-hed c-story-strip__hed'}).text
    except Exception:
        texts_atl4 = ""
    try:
        texts_atl5 = soup.find('article', {'id': 'hp-offlede-0'}).find('h2', {'class': 'o-hed c-offlede__hed'}).text
    except Exception:
        texts_atl5 = ""
    try:
        texts_atl6 = soup.find('article', {'id': 'hp-offlede-1'}).find('h2', {'class': 'o-hed c-offlede__hed'}).text
    except Exception:
        texts_atl6 = ""


    texts_atl = []
    texts_atl.append(texts_atl1)
    texts_atl.append(texts_atl2)
    texts_atl.append(texts_atl3)
    texts_atl.append(texts_atl4)
    texts_atl.append(texts_atl5)
    texts_atl.append(texts_atl6)
    return texts_atl

def get_all_links_pub(html):
    soup = bs(html, 'lxml')
    link_pub = soup.find('div', {'id': 'level1'}).find_all('a', href=True)

    all_links_pub1 = []
    for a in link_pub:
        all_links_pub1.append(a['href'])

    all_links_pub = []
    all_links_pub.append(all_links_pub1[0])
    all_links_pub.append(all_links_pub1[4])
    all_links_pub.append(all_links_pub1[10])
    all_links_pub.append(all_links_pub1[14])
    all_links_pub.append(all_links_pub1[18])
    return all_links_pub

def get_all_titles_pub(html):
    soup = bs(html, 'lxml')
    try:
        titles_pub = soup.find('h2', {'class': 'hed'}).text
    except Exception:
        titles_pub = ""
    return titles_pub

def get_all_texts_pub(html):
    soup = bs(html, 'lxml')
    try:
        texts_pub = soup.find('p', {'class': 'dek'}).text
    except Exception:
        texts_pub = ""
    return texts_pub

def get_all_links_rev(html):
    soup = bs(html, 'lxml')
    link_rev = soup.find('div', {'id': 'content'}).find_all('a', href=True)

    all_links_rev1 = []
    for a in link_rev:
        all_links_rev1.append(a['href'])

    all_links_rev = []
    all_links_rev.append(all_links_rev1[0])
    all_links_rev.append(all_links_rev1[8])
    all_links_rev.append(all_links_rev1[11])
    all_links_rev.append(all_links_rev1[14])
    all_links_rev.append(all_links_rev1[17])
    all_links_rev.append(all_links_rev1[20])
    return all_links_rev

def get_all_titles_rev(html):
    soup = bs(html, 'lxml')
    try:
        titles_rev = soup.find('h1').text
    except Exception:
        titles_rev = ""
    return titles_rev

def get_all_texts_rev(html):
    soup = bs(html, 'lxml')
    try:
        texts_rev = soup.find('div', {'id': 'content_body'}).find('p').text
    except Exception:
        texts_rev = ""
    return texts_rev


def news_politics(request):
    # The Nation
    url8 = "https://www.thenation.com/subject/politics/"
    all_links_nat = get_all_links_nat(get_html(url8))
    all_titles_nat = []
    texts_nat = []
    for link in all_links_nat:
        html = get_html(link)
        all_titles_nat.append(get_all_titles_nat(html))
        texts_nat.append(get_all_texts_nat(html))

    # Five Thirty Eight
    url9 = "https://fivethirtyeight.com/politics/"
    all_links_fte = get_all_links_fte(get_html(url9))
    all_titles_fte = []
    texts_fte = []
    for link in all_links_fte:
        html = get_html(link)
        all_titles_fte.append(get_all_titles_fte(html))
        texts_fte.append(get_all_texts_fte(html))

    # The Atlantic
    url10 = "https://www.theatlantic.com/world/"
    all_links_atl = get_all_links_atl(get_html(url10))
    all_titles_atl = get_all_titles_atl(get_html(url10))
    texts_atl = get_all_texts_atl(get_html(url10))
    for link in all_links_atl:
        html = get_html(link)

    # FactCheck
    url11 = "https://www.factcheck.org/"
    all_links_fch = get_all_links_fch(get_html(url11))
    all_titles_fch = []
    texts_fch = []
    for link in all_links_fch:
        html = get_html(link)
        all_titles_fch.append(get_all_titles_fch(html))
        texts_fch.append(get_all_texts_fch(html))


    return render(request, 'main/news_politics.html', {'all_links_nat': all_links_nat, 'all_titles_nat': all_titles_nat, 'all_texts_nat': texts_nat,
                                                       'all_links_fte': all_links_fte, 'all_titles_fte': all_titles_fte, 'all_texts_fte': texts_fte,
                                                       'all_links_atl': all_links_atl, 'all_titles_atl': all_titles_atl, 'all_texts_atl': texts_atl,
                                                       'all_links_fch': all_links_fch, 'all_titles_fch': all_titles_fch, 'all_texts_fch': texts_fch})

def get_all_links_nat(html):
    soup = bs(html, 'lxml')
    link_nat = soup.find('ul', {'class': 'listing__results unstyled row'}).find_all('a', href=True)

    all_links_nat1 = []
    for a in link_nat:
        all_links_nat1.append(a['href'])

    all_links_nat = []
    all_links_nat.append(all_links_nat1[3])
    all_links_nat.append(all_links_nat1[6])
    all_links_nat.append(all_links_nat1[9])
    all_links_nat.append(all_links_nat1[12])
    all_links_nat.append(all_links_nat1[16])
    all_links_nat.append(all_links_nat1[19])
    return all_links_nat

def get_all_titles_nat(html):
    soup = bs(html, 'lxml')
    try:
        titles_nat = soup.find('h1', {'class': 'title'}).text
    except Exception:
        titles_nat = ""
    return titles_nat

def get_all_texts_nat(html):
    soup = bs(html, 'lxml')
    try:
        texts_nat = soup.find('h2', {'class': 'subtitle'}).text
    except Exception:
        texts_nat = ""
    return texts_nat

def get_all_links_fte(html):
    soup = bs(html, 'lxml')
    link_fte = soup.find('div', {'class': 'posts content-area'}).find_all('a', href=True)

    all_links_fte1 = []
    for a in link_fte:
        all_links_fte1.append(a['href'])

    all_links_fte = []
    all_links_fte.append(all_links_fte1[6])
    all_links_fte.append(all_links_fte1[10])
    all_links_fte.append(all_links_fte1[14])
    all_links_fte.append(all_links_fte1[18])
    all_links_fte.append(all_links_fte1[22])
    all_links_fte.append(all_links_fte1[26])
    return all_links_fte

def get_all_titles_fte(html):
    soup = bs(html, 'lxml')
    try:
        titles_fte = soup.find('div', {'class': 'single-header'}).find('h1').text
    except Exception:
        titles_fte = ""
    return titles_fte

def get_all_texts_fte(html):
    soup = bs(html, 'lxml')
    try:
        texts_fte = soup.find('div', {'class': 'entry-content single-post-content'}).find('p').text
    except Exception:
        texts_fte = ""
    return texts_fte

def get_all_links_fch(html):
    soup = bs(html, 'lxml')
    link_fch = soup.find('main', {'id': 'main'}).find_all('a', href=True)

    all_links_fch1 = []
    for a in link_fch:
        all_links_fch1.append(a['href'])

    all_links_fch = []
    all_links_fch.append(all_links_fch1[7])
    all_links_fch.append(all_links_fch1[9])
    all_links_fch.append(all_links_fch1[11])
    all_links_fch.append(all_links_fch1[13])
    all_links_fch.append(all_links_fch1[15])
    all_links_fch.append(all_links_fch1[17])
    return all_links_fch

def get_all_titles_fch(html):
    soup = bs(html, 'lxml')
    try:
        titles_fch = soup.find('h1', {'class': 'entry-title'}).text
    except Exception:
        titles_fch = ""
    return titles_fch

def get_all_texts_fch(html):
    soup = bs(html, 'lxml')
    try:
        texts_fch = soup.find('div', {'class': 'entry-content'}).find('p').text
    except Exception:
        texts_fch = ""
    return texts_fch


def tech(request):
    # TechCrunch
    url8 = "https://techcrunch.com/"
    all_links_tcr = get_all_links_tcr(get_html(url8))
    all_titles_tcr = []
    texts_tcr = []
    for link in all_links_tcr:
        try:
            html = get_html(link)
            all_titles_tcr.append(get_all_titles_tcr(html))
            texts_tcr.append(get_all_texts_tcr(html))
        except Exception:
            pass

    # Ars Technica
    url9 = "https://arstechnica.com/"
    all_links_ars = get_all_links_ars(get_html(url9))
    all_titles_ars = []
    texts_ars = []
    for link in all_links_ars:
        try:
            html = get_html(link)
            all_titles_ars.append(get_all_titles_ars(html))
            texts_ars.append(get_all_texts_ars(html))
        except Exception:
            pass

    # Reuters Technology
    url10 = "https://www.reuters.com/news/technology"
    all_links_reut = get_all_links_reut(get_html(url10))
    all_titles_reut = []
    texts_reut = []
    for link in all_links_reut:
        try:
            html = get_html(link)
            all_titles_reut.append(get_all_titles_reut(html))
            texts_reut.append(get_all_texts_reut(html))
        except Exception:
            pass

    # Vox Recode
    url11 = "https://www.vox.com/recode"
    all_links_vox = get_all_links_vox(get_html(url11))
    all_titles_vox = []
    texts_vox = []
    for link in all_links_vox:
        try:
            html = get_html(link)
            all_titles_vox.append(get_all_titles_vox(html))
            texts_vox.append(get_all_texts_vox(html))
        except Exception:
            pass

    # Engadget
    url12 = "https://www.engadget.com/"
    all_links_eng = get_all_links_eng(get_html(url12))
    all_titles_eng = []
    texts_eng = []
    for link in all_links_eng:
        try:
            html = get_html(link)
            all_titles_eng.append(get_all_titles_eng(html))
            texts_eng.append(get_all_texts_eng(html))
        except Exception:
            pass

    # The New Web
    url13 = "https://thenextweb.com/"
    all_links_tnw = get_all_links_tnw(get_html(url13))
    all_titles_tnw = []
    texts_tnw = []
    for link in all_links_tnw:
        try:
            html = get_html(link)
            all_titles_tnw.append(get_all_titles_tnw(html))
            texts_tnw.append(get_all_texts_tnw(html))
        except Exception:
            pass



    return render(request, 'main/tech.html',  {'all_links_tcr': all_links_tcr, 'all_titles_tcr': all_titles_tcr, 'all_texts_tcr': texts_tcr,
                                               'all_links_ars': all_links_ars, 'all_titles_ars': all_titles_ars, 'all_texts_ars': texts_ars,
                                               'all_links_reut': all_links_reut, 'all_titles_reut': all_titles_reut, 'all_texts_reut': texts_reut,
                                               'all_links_vox': all_links_vox, 'all_titles_vox': all_titles_vox, 'all_texts_vox': texts_vox,
                                               'all_links_eng': all_links_eng, 'all_titles_eng': all_titles_eng, 'all_texts_eng': texts_eng,
                                               'all_links_tnw': all_links_tnw, 'all_titles_tnw': all_titles_tnw, 'all_texts_tnw': texts_tnw})

def get_all_links_tcr(html):
    soup = bs(html, 'lxml')
    link_tcr = soup.find('div', {'id': 'root'}).find_all('a', href=True)

    all_links_tcr1 = []
    for a in link_tcr:
        all_links_tcr1.append(a['href'])

    all_links_tcr = []
    all_links_tcr.append(all_links_tcr1[3])
    all_links_tcr.append(all_links_tcr1[6])
    all_links_tcr.append(all_links_tcr1[9])
    all_links_tcr.append(all_links_tcr1[12])
    all_links_tcr.append(all_links_tcr1[15])
    all_links_tcr.append(all_links_tcr1[18])
    return all_links_tcr

def get_all_titles_tcr(html):
    soup = bs(html, 'lxml')
    try:
        titles_tcr = soup.find('h1', {'class': 'article__title'}).text
    except Exception:
        titles_tcr = ""
    return titles_tcr

def get_all_texts_tcr(html):
    soup = bs(html, 'lxml')
    try:
        texts_tcr = soup.find('p').text
    except Exception:
        texts_tcr = ""
    return texts_tcr

def get_all_links_ars(html):
    soup = bs(html, 'lxml')
    link_ars = soup.find('section', {'class': 'listing listing-top with-feature'}).find_all('a', href=True)

    all_links_ars1 = []
    for a in link_ars:
        all_links_ars1.append(a['href'])

    all_links_ars = []
    all_links_ars.append(all_links_ars1[5])
    all_links_ars.append(all_links_ars1[10])
    all_links_ars.append(all_links_ars1[15])
    all_links_ars.append(all_links_ars1[20])
    all_links_ars.append(all_links_ars1[25])
    all_links_ars.append(all_links_ars1[30])
    return all_links_ars

def get_all_titles_ars(html):
    soup = bs(html, 'lxml')
    try:
        titles_ars = soup.find('h1', {'itemprop': 'headline'}).text
    except Exception:
        titles_ars = ""
    return titles_ars

def get_all_texts_ars(html):
    soup = bs(html, 'lxml')
    try:
        texts_ars = soup.find('h2', {'itemprop': 'description'}).text
    except Exception:
        texts_ars = ""
    return texts_ars

def get_all_links_reut(html):
    soup = bs(html, 'lxml')
    link_reut = soup.find('div', {'class': 'column1 col col-10'}).find_all('a', href=True)

    all_links_reut1 = []
    for a in link_reut:
        all_links_reut1.append("https://www.reuters.com/news/technology" + a['href'])

    all_links_reut = []
    all_links_reut.append(all_links_reut1[0])
    all_links_reut.append(all_links_reut1[2])
    all_links_reut.append(all_links_reut1[4])
    all_links_reut.append(all_links_reut1[6])
    all_links_reut.append(all_links_reut1[8])
    all_links_reut.append(all_links_reut1[10])
    return all_links_reut

def get_all_titles_reut(html):
    soup = bs(html, 'lxml')
    try:
        titles_reut = soup.find('h1', {'class': 'ArticleHeader_headline'}).text
    except Exception:
        titles_reut = ""
    return titles_reut

def get_all_texts_reut(html):
    soup = bs(html, 'lxml')
    try:
        texts_reut = soup.find('div', {'class': 'StandardArticleBody_body'}).find('p').text
    except Exception:
        texts_reut = ""
    return texts_reut


def get_all_links_vox(html):
    soup = bs(html, 'lxml')
    link_vox = soup.find('div', {'class': 'c-compact-river'}).find_all('a', href=True)

    all_links_vox1 = []
    for a in link_vox:
        all_links_vox1.append(a['href'])

    all_links_vox = []
    all_links_vox.append(all_links_vox1[0])
    all_links_vox.append(all_links_vox1[3])
    all_links_vox.append(all_links_vox1[7])
    all_links_vox.append(all_links_vox1[10])
    all_links_vox.append(all_links_vox1[13])
    all_links_vox.append(all_links_vox1[16])
    return all_links_vox

def get_all_titles_vox(html):
    soup = bs(html, 'lxml')
    try:
        titles_vox = soup.find('h1', {'class': 'c-page-title'}).text
    except Exception:
        titles_vox = ""
    return titles_vox

def get_all_texts_vox(html):
    soup = bs(html, 'lxml')
    try:
        texts_vox = soup.find('p', {'class': 'c-entry-summary p-dek'}).text
    except Exception:
        texts_vox = ""
    return texts_vox


def get_all_links_eng(html):
    soup = bs(html, 'lxml')
    link_eng = soup.find('div', {'id': 'engadget-the-latest'}).find_all('a', href=True)

    all_links_eng1 = []
    for a in link_eng:
        all_links_eng1.append("https://www.engadget.com/" + a['href'])

    all_links_eng = []
    all_links_eng.append(all_links_eng1[0])
    all_links_eng.append(all_links_eng1[16])
    all_links_eng.append(all_links_eng1[24])
    all_links_eng.append(all_links_eng1[36])
    all_links_eng.append(all_links_eng1[44])
    all_links_eng.append(all_links_eng1[52])
    return all_links_eng

def get_all_titles_eng(html):
    soup = bs(html, 'lxml')
    try:
        titles_eng = soup.find('h1', {'class': 't-h4@m- t-h1-b@tp t-h1@tl+ mt-20 mt-15@tp mt-0@m-'}).text
    except Exception:
        titles_eng = ""
    return titles_eng

def get_all_texts_eng(html):
    soup = bs(html, 'lxml')
    try:
        texts_eng = soup.find('div', {'class': 't-d7@m- t-d4@tp t-d3-b@tl t-d2@d mt-15 mt-25@tp c-gray-3 c-gray-6@m-'}).text
    except Exception:
        texts_eng = ""
    return texts_eng

def get_all_links_tnw(html):
    soup = bs(html, 'lxml')
    link_tnw = soup.find('section', {'class': 'latest'}).find_all('a', href=True)

    all_links_tnw1 = []
    for a in link_tnw:
        all_links_tnw1.append(a['href'])

    all_links_tnw = []
    all_links_tnw.append(all_links_tnw1[4])
    all_links_tnw.append(all_links_tnw1[7])
    all_links_tnw.append(all_links_tnw1[10])
    all_links_tnw.append(all_links_tnw1[13])
    all_links_tnw.append(all_links_tnw1[16])
    all_links_tnw.append(all_links_tnw1[19])
    return all_links_tnw

def get_all_titles_tnw(html):
    soup = bs(html, 'lxml')
    try:
        titles_tnw = soup.find('header', {'class': 'post-header'}).find('h1').text
    except Exception:
        titles_tnw = ""
    return titles_tnw

def get_all_texts_tnw(html):
    soup = bs(html, 'lxml')
    try:
        texts_tnw = soup.find('div', {'class': 'post-body fb-quotable u-m-3'}).find('p').text
    except Exception:
        texts_tnw = ""
    return texts_tnw


def sports(request):
    # Espn
    url8 = "https://www.espn.com/"
    all_links_espn = get_all_links_espn(get_html(url8))
    all_titles_espn = []
    texts_espn = []
    for link in all_links_espn:
        try:
            html = get_html(link)
            all_titles_espn.append(get_all_titles_espn(html))
            texts_espn.append(get_all_texts_espn(html))
        except Exception:
            pass


    # Sports Illustrated
    url9 = "https://www.si.com/"
    all_links_si = get_all_links_si(get_html(url9))
    all_titles_si = []
    texts_si = []
    for link in all_links_si:
        try:
            html = get_html(link)
            all_titles_si.append(get_all_titles_si(html))
            texts_si.append(get_all_texts_si(html))
        except Exception:
            pass


     # The Ringer
    url10 = "https://www.theringer.com/"
    all_links_ring = get_all_links_ring(get_html(url10))
    all_titles_ring = []
    texts_ring = []
    for link in all_links_ring:
        try:
            html = get_html(link)
            all_titles_ring.append(get_all_titles_ring(html))
            texts_ring.append(get_all_texts_ring(html))
        except Exception:
            pass

    # SB Nation
    url11 = "https://www.sbnation.com/"
    all_links_sbn = get_all_links_sbn(get_html(url11))
    all_titles_sbn = []
    texts_sbn = []
    for link in all_links_sbn:
        try:
            html = get_html(link)
            all_titles_sbn.append(get_all_titles_sbn(html))
            texts_sbn.append(get_all_texts_sbn(html))
        except Exception:
            pass

    # FiveThirtyEight Sports
    url11 = "https://fivethirtyeight.com/sports/"
    all_links_ftes = get_all_links_ftes(get_html(url11))
    all_titles_ftes = []
    texts_ftes = []
    for link in all_links_ftes:
        try:
            html = get_html(link)
            all_titles_ftes.append(get_all_titles_ftes(html))
            texts_ftes.append(get_all_texts_ftes(html))
        except Exception:
            pass

    return render(request, 'main/sports.html', {'all_links_espn': all_links_espn, 'all_titles_espn': all_titles_espn, 'all_texts_espn': texts_espn,
                                                'all_links_si': all_links_si, 'all_titles_si': all_titles_si, 'all_texts_si': texts_si,
                                                'all_links_ring': all_links_ring, 'all_titles_ring': all_titles_ring, 'all_texts_ring': texts_ring,
                                                'all_links_sbn': all_links_sbn, 'all_titles_sbn': all_titles_sbn, 'all_texts_sbn': texts_sbn,
                                                'all_links_ftes': all_links_ftes, 'all_titles_ftes': all_titles_ftes, 'all_texts_ftes': texts_ftes})


def get_all_links_espn(html):
    soup = bs(html, 'lxml')
    try:
        link_espn = soup.find('section', {'id': 'news-feed'}).find_all('a', href=True)

        all_links_espn1 = []
        for a in link_espn:
            all_links_espn1.append("https://www.espn.com" + a['href'])

        all_links_espn = []
        all_links_espn.append(all_links_espn1[0])
        all_links_espn.append(all_links_espn1[10])
        all_links_espn.append(all_links_espn1[13])
        all_links_espn.append(all_links_espn1[15])
    except Exception:
        pass
    return all_links_espn

def get_all_titles_espn(html):
    soup = bs(html, 'lxml')
    try:
        titles_espn = soup.find('header', {'class': 'article-header'}).find('h1').text
    except Exception:
        titles_espn = ""
    return titles_espn

def get_all_texts_espn(html):
    soup = bs(html, 'lxml')
    try:
        texts_espn = soup.find('div', {'class': 'article-body'}).find('p').text
    except Exception:
        texts_espn = ""
    return texts_espn

def get_all_links_si(html):
    soup = bs(html, 'lxml')
    link_si = soup.find('section', {'class': 'm-flex-grid m-component-stack mm-component-stack--is-stacked'}).find_all('a', href=True)

    all_links_si1 = []
    for a in link_si:
        all_links_si1.append("https://www.si.com/" + a['href'])

    all_links_si = []
    all_links_si.append(all_links_si1[0])
    all_links_si.append(all_links_si1[5])
    all_links_si.append(all_links_si1[10])
    all_links_si.append(all_links_si1[14])
    all_links_si.append(all_links_si1[18])
    all_links_si.append(all_links_si1[22])
    return all_links_si

def get_all_titles_si(html):
    soup = bs(html, 'lxml')
    try:
        titles_si = soup.find('h1', {'class': 'm-detail-header--title'}).text
    except Exception:
        titles_si = ""
    return titles_si

def get_all_texts_si(html):
    soup = bs(html, 'lxml')
    try:
        texts_si = soup.find('div', {'class': 'm-detail-header--dek'}).text
    except Exception:
        texts_si = ""
    return texts_si

def get_all_links_ring(html):
    soup = bs(html, 'lxml')
    link_ring = soup.find('div', {'class': 'c-compact-river'}).find_all('a', href=True)

    all_links_ring1 = []
    for a in link_ring:
        all_links_ring1.append(a['href'])

    all_links_ring = []
    all_links_ring.append(all_links_ring1[0])
    all_links_ring.append(all_links_ring1[4])
    all_links_ring.append(all_links_ring1[8])
    all_links_ring.append(all_links_ring1[12])
    all_links_ring.append(all_links_ring1[16])
    all_links_ring.append(all_links_ring1[20])
    return all_links_ring

def get_all_titles_ring(html):
    soup = bs(html, 'lxml')
    try:
        titles_ring = soup.find('h1', {'class': 'c-page-title'}).text
    except Exception:
        titles_ring = ""
    return titles_ring

def get_all_texts_ring(html):
    soup = bs(html, 'lxml')
    try:
        texts_ring = soup.find('p', {'class': 'c-entry-summary p-dek'}).text
    except Exception:
        texts_ring = ""
    return texts_ring

def get_all_links_sbn(html):
    soup = bs(html, 'lxml')
    link_sbn = soup.find('div', {'class': 'c-compact-river'}).find_all('a', href=True)

    all_links_sbn1 = []
    for a in link_sbn:
        all_links_sbn1.append(a['href'])

    all_links_sbn = []
    all_links_sbn.append(all_links_sbn1[0])
    all_links_sbn.append(all_links_sbn1[4])
    all_links_sbn.append(all_links_sbn1[7])
    all_links_sbn.append(all_links_sbn1[12])
    all_links_sbn.append(all_links_sbn1[16])
    all_links_sbn.append(all_links_sbn1[20])
    return all_links_sbn


def get_all_titles_sbn(html):
    soup = bs(html, 'lxml')
    try:
        titles_sbn = soup.find('h1', {'class': 'c-page-title'}).text
    except Exception:
        titles_sbn = ""
    return titles_sbn

def get_all_texts_sbn(html):
    soup = bs(html, 'lxml')
    try:
        texts_sbn = soup.find('p', {'class': 'c-entry-summary p-dek'}).text
    except Exception:
        texts_sbn = ""
    return texts_sbn


def get_all_links_ftes(html):
    soup = bs(html, 'lxml')
    link_ftes = soup.find('div', {'class': 'posts content-area'}).find_all('a', href=True)

    all_links_ftes1 = []
    for a in link_ftes:
        all_links_ftes1.append(a['href'])

    all_links_ftes = []
    all_links_ftes.append(all_links_ftes1[6])
    all_links_ftes.append(all_links_ftes1[10])
    all_links_ftes.append(all_links_ftes1[14])
    all_links_ftes.append(all_links_ftes1[18])
    all_links_ftes.append(all_links_ftes1[22])
    all_links_ftes.append(all_links_ftes1[26])
    return all_links_ftes

def get_all_titles_ftes(html):
    soup = bs(html, 'lxml')
    try:
        titles_ftes = soup.find('div', {'class': 'single-header'}).find('h1').text
    except Exception:
        titles_ftes = ""
    return titles_ftes

def get_all_texts_ftes(html):
    soup = bs(html, 'lxml')
    try:
        texts_ftes = soup.find('div', {'class': 'entry-content single-post-content'}).find('p').text
    except Exception:
        texts_ftes = ""
    return texts_ftes


def health(request):
    # Harvard Health
    url8 = "https://www.health.harvard.edu/"
    all_links_har = get_all_links_har(get_html(url8))
    all_titles_har = []
    texts_har = []
    for link in all_links_har:
        try:
            html = get_html(link)
            all_titles_har.append(get_all_titles_har(html))
            texts_har.append(get_all_texts_har(html))
        except Exception:
            pass

    # WebMD
    url9 = "https://www.webmd.com/default.htm"
    all_links_web = get_all_links_web(get_html(url9))
    all_titles_web = []
    texts_web = []
    for link in all_links_web:
        try:
            html = get_html(link)
            all_titles_web.append(get_all_titles_web(html))
            texts_web.append(get_all_texts_web(html))
        except Exception:
            pass

    # Wellness Mama
    url10 = "https://wellnessmama.com/blog/"
    all_links_well = get_all_links_well(get_html(url10))
    all_titles_well = []
    texts_well = []
    for link in all_links_well:
        try:
            html = get_html(link)
            all_titles_well.append(get_all_titles_well(html))
            texts_well.append(get_all_texts_well(html))
        except Exception:
            pass

    # Medgadget
    url11 = "https://www.medgadget.com/"
    all_links_med = get_all_links_med(get_html(url11))
    all_titles_med = []
    texts_med = []
    for link in all_links_med:
        try:
            html = get_html(link)
            all_titles_med.append(get_all_titles_med(html))
            texts_med.append(get_all_texts_med(html))
        except Exception:
            pass

    # JillFit
    url12 = "http://jillfit.com/blog/"
    all_links_jill = get_all_links_jill(get_html(url12))
    all_titles_jill = []
    texts_jill = []
    for link in all_links_jill:
        try:
            html = get_html(link)
            all_titles_jill.append(get_all_titles_jill(html))
            texts_jill.append(get_all_texts_jill(html))
        except Exception:
            pass


    return render(request, 'main/health.html', {'all_links_har': all_links_har, 'all_titles_har': all_titles_har, 'all_texts_har': texts_har,
                                                'all_links_web': all_links_web, 'all_titles_web': all_titles_web, 'all_texts_web': texts_web,
                                                'all_links_well': all_links_well, 'all_titles_well': all_titles_well, 'all_texts_well': texts_well,
                                                'all_links_med': all_links_med, 'all_titles_med': all_titles_med, 'all_texts_med': texts_med,
                                                'all_links_jill': all_links_jill, 'all_titles_jill': all_titles_jill, 'all_texts_jill': texts_jill})

def get_all_links_har(html):
    soup = bs(html, 'lxml')
    link_har = soup.find('section', {'class': 'article-listing col-sm-8'}).find_all('a', href=True)

    all_links_har1 = []
    for a in link_har:
        all_links_har1.append(a['href'])

    all_links_har = []
    all_links_har.append(all_links_har1[0])
    all_links_har.append(all_links_har1[2])
    all_links_har.append(all_links_har1[4])
    all_links_har.append(all_links_har1[6])
    return all_links_har


def get_all_titles_har(html):
    soup = bs(html, 'lxml')
    try:
        titles_har = soup.find('h1', {'class': 'p-name entry-title'}).text
    except Exception:
        titles_har = ""
    return titles_har

def get_all_texts_har(html):
    soup = bs(html, 'lxml')
    try:
        texts_har = soup.find('h2', {'class': 'Subhead'}).text
    except Exception:
        texts_har = ""
    return texts_har

def get_all_links_web(html):
    soup = bs(html, 'lxml')
    link_web = soup.find('ul', {'class': 'subfeature'}).find_all('a', href=True)

    all_links_web1 = []
    for a in link_web:
        all_links_web1.append(a['href'])

    all_links_web = []
    all_links_web.append(all_links_web1[2])
    all_links_web.append(all_links_web1[3])
    all_links_web.append(all_links_web1[4])
    all_links_web.append(all_links_web1[6])
    all_links_web.append(all_links_web1[7])
    return all_links_web

def get_all_titles_web(html):
    soup = bs(html, 'lxml')
    try:
        titles_web = soup.find('h1').text
    except Exception:
        titles_web = ""
    return titles_web

def get_all_texts_web(html):
    soup = bs(html, 'lxml')
    try:
        texts_web = soup.find('div', {'class': 'article-page active-page'}).find('p').text
    except Exception:
        texts_web = ""
    return texts_web

def get_all_links_well(html):
    soup = bs(html, 'lxml')
    link_well = soup.find('div', {'class': 'row gutter-md'}).find_all('a', href=True)

    all_links_well1 = []
    for a in link_well:
        all_links_well1.append(a['href'])

    all_links_well = []
    all_links_well.append(all_links_well1[0])
    all_links_well.append(all_links_well1[2])
    all_links_well.append(all_links_well1[4])
    all_links_well.append(all_links_well1[6])
    all_links_well.append(all_links_well1[8])
    all_links_well.append(all_links_well1[10])
    return all_links_well

def get_all_titles_well(html):
    soup = bs(html, 'lxml')
    try:
        titles_well = soup.find('h1', {'class': 'entry-title'}).text
    except Exception:
        titles_well = ""
    return titles_well

def get_all_texts_well(html):
    soup = bs(html, 'lxml')
    try:
        texts_well = soup.find('div', {'class': 'entry-content'}).find('p').text
    except Exception:
        texts_well = ""
    return texts_well

def get_all_links_med(html):
    soup = bs(html, 'lxml')
    link_med = soup.find('article', {'class': 'article-post'}).find_all('a', href=True)

    all_links_med1 = []
    for a in link_med:
        all_links_med1.append(a['href'])

    all_links_med = []
    all_links_med.append(all_links_med1[0])
    all_links_med.append(all_links_med1[2])
    all_links_med.append(all_links_med1[6])
    all_links_med.append(all_links_med1[10])
    all_links_med.append(all_links_med1[14])
    all_links_med.append(all_links_med1[18])
    return all_links_med

def get_all_titles_med(html):
    soup = bs(html, 'lxml')
    try:
        titles_med = soup.find('h1', {'itemprop': 'name'}).text
    except Exception:
        titles_med = ""
    return titles_med

def get_all_texts_med(html):
    soup = bs(html, 'lxml')
    try:
        texts_med = soup.find('div', {'class': 'article-post-content'}).find('p').text
    except Exception:
        texts_med = ""
    return texts_med

def get_all_links_jill(html):
    soup = bs(html, 'lxml')
    link_jill = soup.find('div', {'id': 'main-wrapper'}).find_all('a', href=True)

    all_links_jill1 = []
    for a in link_jill:
        all_links_jill1.append(a['href'])

    all_links_jill = []
    all_links_jill.append(all_links_jill1[0])
    all_links_jill.append(all_links_jill1[2])
    all_links_jill.append(all_links_jill1[4])
    all_links_jill.append(all_links_jill1[6])
    all_links_jill.append(all_links_jill1[8])
    all_links_jill.append(all_links_jill1[10])
    return all_links_jill

def get_all_titles_jill(html):
    soup = bs(html, 'lxml')
    try:
        titles_jill = soup.find('h1').text
    except Exception:
        titles_jill = ""
    return titles_jill

def get_all_texts_jill(html):
    soup = bs(html, 'lxml')
    try:
        texts_jill = soup.find('p').text
    except Exception:
        texts_jill = ""
    return texts_jill


def fitness(request):
    # JohnFawkes
    url8 = "https://johnfawkes.com/"
    all_links_jf = get_all_links_jf(get_html(url8))
    all_titles_jf = []
    texts_jf = []
    for link in all_links_jf:
        try:
            html = get_html(link)
            all_titles_jf.append(get_all_titles_jf(html))
            texts_jf.append(get_all_texts_jf(html))
        except Exception:
            pass

    # Stack
    url9 = "https://www.stack.com/"
    all_links_st = get_all_links_st(get_html(url9))
    all_titles_st = []
    texts_st = []
    for link in all_links_st:
        try:
            html = get_html(link)
            all_titles_st.append(get_all_titles_st(html))
            texts_st.append(get_all_texts_st(html))
        except Exception:
            pass

     # T-Nation
    url10 = "https://www.t-nation.com/"
    all_links_tnat = get_all_links_tnat(get_html(url10))
    all_titles_tnat = []
    texts_tnat = []
    for link in all_links_tnat:
        try:
            html = get_html(link)
            all_titles_tnat.append(get_all_titles_tnat(html))
            texts_tnat.append(get_all_texts_tnat(html))
        except Exception:
            pass

     # Breaking Muscle
    url11 = "https://breakingmuscle.com/"
    all_links_bm = get_all_links_bm(get_html(url11))
    all_titles_bm = []
    texts_bm = []
    for link in all_links_bm:
        try:
            html = get_html(link)
            all_titles_bm.append(get_all_titles_bm(html))
            texts_bm.append(get_all_texts_bm(html))
        except Exception:
            pass

    return render(request, 'main/fitness.html', {'all_links_jf': all_links_jf, 'all_titles_jf': all_titles_jf, 'all_texts_jf': texts_jf,
                                                 'all_links_st': all_links_st, 'all_titles_st': all_titles_st, 'all_texts_st': texts_st,
                                                 'all_links_tnat': all_links_tnat, 'all_titles_tnat': all_titles_tnat, 'all_texts_tnat': texts_tnat,
                                                 'all_links_bm': all_links_bm, 'all_titles_bm': all_titles_bm, 'all_texts_bm': texts_bm})


def get_all_links_jf(html):
    soup = bs(html, 'lxml')
    link_jf = soup.find('main', {'id': 'main'}).find_all('a', href=True)

    all_links_jf1 = []
    for a in link_jf:
        all_links_jf1.append(a['href'])

    all_links_jf = []
    all_links_jf.append(all_links_jf1[0])
    all_links_jf.append(all_links_jf1[5])
    all_links_jf.append(all_links_jf1[10])
    all_links_jf.append(all_links_jf1[15])
    all_links_jf.append(all_links_jf1[20])
    return all_links_jf

def get_all_titles_jf(html):
    soup = bs(html, 'lxml')
    try:
        titles_jf = soup.find('h1', {'class': 'entry-title'}).text
    except Exception:
        titles_jf = ""
    return titles_jf

def get_all_texts_jf(html):
    soup = bs(html, 'lxml')
    try:
        texts_jf = soup.find('div', {'class': 'entry-content'}).find('p').text
    except Exception:
        texts_jf = ""
    return texts_jf

def get_all_links_st(html):
    soup = bs(html, 'lxml')
    link_st = soup.find('div', {'class': 'col-xs-12 latest-content'}).find_all('a', href=True)

    all_links_st1 = []
    for a in link_st:
        all_links_st1.append(a['href'])

    all_links_st = []
    all_links_st.append(all_links_st1[0])
    all_links_st.append(all_links_st1[5])
    all_links_st.append(all_links_st1[12])
    all_links_st.append(all_links_st1[21])
    all_links_st.append(all_links_st1[33])
    all_links_st.append(all_links_st1[44])
    return all_links_st

def get_all_titles_st(html):
    soup = bs(html, 'lxml')
    try:
        titles_st = soup.find('h1', {'itemprop': 'headline name'}).text
    except Exception:
        titles_st = ""
    return titles_st

def get_all_texts_st(html):
    soup = bs(html, 'lxml')
    try:
        texts_st = soup.find('div', {'id': 'articleBody'}).find('p').text
    except Exception:
        texts_st = ""
    return texts_st


def get_all_links_tnat(html):
    soup = bs(html, 'lxml')
    link_tnat = soup.find('div', {'id': 'articles'}).find_all('a', href=True)

    all_links_tnat1 = []
    for a in link_tnat:
        all_links_tnat1.append("https://www.t-nation.com/" + a['href'])

    all_links_tnat = []
    all_links_tnat.append(all_links_tnat1[0])
    all_links_tnat.append(all_links_tnat1[5])
    all_links_tnat.append(all_links_tnat1[10])
    all_links_tnat.append(all_links_tnat1[16])
    all_links_tnat.append(all_links_tnat1[21])
    all_links_tnat.append(all_links_tnat1[26])
    return all_links_tnat

def get_all_titles_tnat(html):
    soup = bs(html, 'lxml')
    try:
        titles_tnat = soup.find('h1', {'class': 'article-detail'}).text
    except Exception:
        titles_tnat = ""
    return titles_tnat

def get_all_texts_tnat(html):
    soup = bs(html, 'lxml')
    try:
        texts_tnat = soup.find('h2', {'class': 'article-detail'}).text
    except Exception:
        texts_tnat = ""
    return texts_tnat

def get_all_links_bm(html):
    soup = bs(html, 'lxml')
    link_bm = soup.find('div', {'class': 'latest'}).find_all('a', href=True)

    all_links_bm1 = []
    for a in link_bm:
        all_links_bm1.append("https://breakingmuscle.com/" + a['href'])

    all_links_bm = []
    all_links_bm.append(all_links_bm1[0])
    all_links_bm.append(all_links_bm1[1])
    all_links_bm.append(all_links_bm1[2])
    all_links_bm.append(all_links_bm1[3])
    all_links_bm.append(all_links_bm1[4])
    all_links_bm.append(all_links_bm1[8])
    return all_links_bm

def get_all_titles_bm(html):
    soup = bs(html, 'lxml')
    try:
        titles_bm = soup.find('h1', {'itemprop': 'headline name'}).text
    except Exception:
        titles_bm = ""
    return titles_bm

def get_all_texts_bm(html):
    soup = bs(html, 'lxml')
    try:
        texts_bm = soup.find('section', {'class': 'body'}).text
    except Exception:
        texts_bm = ""
    return texts_bm
